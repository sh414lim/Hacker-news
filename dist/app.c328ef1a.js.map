{"version":3,"sources":["app.js"],"names":["container","document","getElementById","ajax","XMLHttpRequest","content","createElement","NEWS_URL","CONTENT_URL","store","currentPage","feeds","getDate","url","open","send","JSON","parse","response","makeFeeds","i","length","read","newsFeed","newsList","template","push","id","title","comments_count","replace","join","innerHTML","newsDetail","location","hash","substr","newsCotent","router","routePath","indexOf","Number","window","addEventListener"],"mappings":"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","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["const container=document.getElementById('root')\n\nconst ajax = new XMLHttpRequest();\nconst content=document.createElement('div')\nconst NEWS_URL ='https://api.hnpwa.com/v0/news/1.json';\nconst CONTENT_URL='https://api.hnpwa.com/v0/item/@id.json';\nconst store={\n    currentPage:1,\n    feeds:[],\n}\n\n\nfunction getDate(url){ // ajax 함수\n    ajax.open('GET' ,url,false) //동기적 처리\n    ajax.send();//데이터 가져오기;\n    return JSON.parse(ajax.response);//json 을 객체로\n\n}\n\nfunction makeFeeds(feeds){\n    for(let i = 0; i<feeds.length; i++){\n        feeds[i].read =false;\n    }\n    return feeds;\n}\n\nfunction newsFeed(){ //글 목록 함수\n    let newsFeed=store.feeds; \n    const newsList = [];\n    let template = \n `       <div class = \"bg-gray-600 min-h-screen\">\n            <div class =\"bg-white text-xl\">\n                <div class=\"mx-auto px-4\">\n                    <div class =\"flex justufy-start\">\n                        <h1 class =\"font-extrabold\">hacker news</h1>\n                    </div>\n                    <div class =\"items-center hustify-end\">\n                        <a href=\"#/page/{{__prev_page__}}\" class = \" text-gray-500\">\n                            Previous\n                        </a>\n                        <a href = \"#/page/{{__next_page__}}\" class =\"text-gray-500 ml-4\">\n                            Next\n                        </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"p-4 text-2xl text-gray-700\">\n                {{__news_feed__}}\n            </div>\n\n        </div>`\n      \n    ;\nif(newsFeed.length === 0){\n    newsFeed = store.feeds = makeFeeds(getDate(NEWS_URL));\n}\n\n    for(let i =(store.currentPage - 1) * 10; i < store.currentPage * 10; i++){\n    newsList.push (`\n    <li>\n        <a href = \"#/show/${newsFeed[i].id}\">\n        ${newsFeed[i].title} (${newsFeed[i].comments_count})\n        </a>\n    </li>\n    `\n    );\n}\n\ntemplate = template.replace('{{__news_feed__}}',newsList.join('')); //마킹 된부분 교체\ntemplate = template.replace('{{__prev_page__}}',store.currentPage > 1 ? store.currentPage -1 : 1); //마킹 된부분 교\ntemplate = template.replace('{{__next_page__}}',store.currentPage + 1); //마킹 된부분 교\n//html 하단에 자식 노드로 추가\ncontainer.innerHTML = template; //배열에 있는 문자열을 하나로 만든다 (join)\n}\n\nfunction newsDetail(){\n    //loaction 브라우저가 제공해주는 객체 ->주소와 관련된 다양한 정보를 알 수 있다\nconst id = location.hash.substr(7);//#제거\nconst newsCotent=getDate(CONTENT_URL.replace('@id',id))\n\ncontainer.innerHTML=`\n    <h1> ${newsCotent.title} </h1>\n        <div>\n            <a href =\"#/page/${store.currentPage}\">목록으로</a>\n        </div>\n`; \n}\nfunction router(){\n    const routePath = location.hash;\n    if(routePath === ''){\n        newsFeed();\n    }else if(routePath.indexOf('#/page/' >= 0)){\n        store.currentPage =Number(routePath.substr(7));\n        newsFeed();\n    }else{\n        newsDetail();\n\n    }\n}\n\nwindow.addEventListener('hashchange',router)\n\nrouter();"]}